# C-Socket-Chat | 基于 C 语言 Socket 的多人聊天室  

一个基于 **C 语言 + TCP Socket + select()** 实现的简易聊天室，支持多客户端并发连接、群聊与私聊功能。  
项目展示了 **Linux Socket 编程、并发处理、通信协议设计与系统稳定性优化** 的能力，适合作为 **系统编程 / 网络通信** 学习与实践案例。  

---

## ✨ 功能特性  
- 👥 **多客户端并发连接**：服务端可同时处理多个客户端请求  
- 💬 **群聊功能**：客户端消息实时广播给所有在线用户  
- 🔒 **私聊功能**：支持 `@username: message` 格式的定向私聊  
- 📡 **TCP 长连接**：基于 Socket API 实现稳定通信  
- ⚡ **并发模型**：采用 `select()` I/O 多路复用机制  
- 🛡 **异常处理**：支持断开重连、异常检测与资源回收  
- 📑 **日志与命令**：支持用户上下线提示、退出命令（`/quit`）、日志记录  

---

## 🛠 技术栈  
- **语言**：C (C99)  
- **操作系统**：Linux / Unix  
- **网络协议**：TCP/IP，支持 I/O 多路复用 (`select`)  
- **构建工具**：Makefile  

---

## 📂 项目结构  
```bash
├── server.c        # 服务端实现
├── client.c        # 客户端实现
├── Makefile        # 编译脚本
└── README.md       # 项目文档
```
---

## ⚙️ 快速开始  
```bash
# 编译生成 server 和 client
make

# 启动服务端 (监听 8888 端口)
./server 8888

# 启动客户端 (连接到服务端)
./client 127.0.0.1 8888
# 客户端输入 /quit 可退出
```
---
## 📖 使用示例
	•	群聊：
 ```bash
 hello everyone!
 ```
	•	私聊：
 ```bash
 @user2: 你好，这是一条私聊消息
 ```
	•	退出：
 ```bash
 /quit
 ```
 ---
## 🔍 实现细节
	1.	并发处理：服务端通过 select() 同步监听多个套接字，实现多用户并发连接。
	2.	通信协议：自定义消息格式，区分广播、私聊与系统命令，保证消息准确转发。
	3.	异常控制：支持掉线用户检测、断线重连、资源回收，避免文件描述符泄漏。
	4.	可扩展性：支持扩展用户登录、消息加密、持久化存储等功能。

⸻

## 📊 测试结果
	•	多客户端并发测试（5+ 客户端同时连接）均能保持消息同步
	•	单次消息广播延迟 < 50ms（本地局域网环境）
	•	稳定运行时间 > 2 小时，无崩溃或资源泄漏
 ---
 ## 📌 TODO
	•	增加多线程版本（pthread）
	•	支持消息持久化（文件/数据库）
	•	增加用户登录与认证
	•	引入加密通信（TLS/SSL）

⸻

## 📜 License

    MIT License

